import FieldLabel from '@react/react-spectrum/FieldLabel';
import Select from '@react/react-spectrum/Select';

## Overview

The **Select** component, used along with one or more options, creates a drop-down list of options.

Read more: https://www.w3schools.com/tags/tag_select.asp

## Example

<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'}
  ]}
/>

## Variants

### Quiet

The `quiet` prop applies a quiet appearance to the button. We can apply `multiple`, `disabled`, `value` props as well with quiet to give the specifc appearances.

<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'}
  ]}
  quiet
/>

```jsx
<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'}
  ]}
  quiet
/>
```

### Required

This prop enforces the user to select at least one option from the list.

<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'}
  ]}
  required
/>

```jsx
<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'}
  ]}
  required
/>
```

### Stay open on select

By default the popover list closes when a new value is selected. However, if we want the list to remain open we can achieve this by passing a `false` value to `closeOnSelect` prop.

<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'}
  ]}
  closeOnSelect={false}
/>

```jsx
<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'}
  ]}
  closeOnSelect={false}
/>
```

## Content

The various items are provided as an array to the `options` prop as shown below. `Placeholder` prop is available to provide a placeholder the Select component. Select in Spectum can have a default value(uncontrolled) or value(controlled) to give the component an initial selected value. To support multiple selection of items we have the `multiple` prop.

<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'},
    {label: 'Some crazy long value that should be cut off', value: 'logVal'}
  ]}
  value="logVal"
/>

```jsx
<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'},
    {label: 'Some crazy long value that should be cut off', value: 'logVal'}
  ]}
  value="logVal"
/>
```

<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'},
    {label: 'Some crazy long value that should be cut off', value: 'logVal'}
  ]}
  placeholder="other placeholder"
  defaultValue="vanilla"
/>

```jsx
<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'},
    {label: 'Some crazy long value that should be cut off', value: 'logVal'}
  ]}
  placeholder="other placeholder"
  defaultValue="vanilla"
/>
```

<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'},
    {label: 'Some crazy long value that should be cut off', value: 'logVal'}
  ]}
  multiple
  defaultValue={['chocolate','vanilla','logVal']}
/>

```jsx
<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'},
    {label: 'Some crazy long value that should be cut off', value: 'logVal'}
  ]}
  multiple
  defaultValue={['chocolate','vanilla','logVal']}
/>
```

### renderItem

You can use the `renderItem` prop to customize the rendering of the items displayed in the dropdown.
This is useful in case custom props are needed for styling or accessibility, or using a semantic
element for the type of data being displayed (e.g. `<time>`).

```jsx
<Select
  {/* ... */}
  renderItem={item => <time {/* ... */}>{item.label}</time>} />
```

## States

`Select` has a number of props for controlling its visual state. It supports the `disabled` prop, which applies a disabled style to the component, and also prevents clicks from activating it. It also support the `invalid` prop to apply an invalid appearance to the select component.

### Invalid

<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'}
  ]}
  invalid
/>

```jsx
<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'}
  ]}
  invalid
/>
```

### Disabled

<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'}
  ]}
  disabled
/>

```jsx
<Select
  aria-label="Ice cream flavor"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'}
  ]}
  disabled
/>
```

## Handling Events

Events handlers for change, open and close can be registered on a `Select` component as shown below.

<Select
  aria-label="Ice cream flavor"
  onChange={e => console.log(e, 'changed')}
  onOpen={e => console.log(e, 'opened')}
  onClose={e => console.log(e, 'closed')}
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'}
  ]}
/>

```jsx
<Select
  aria-label="Ice cream flavor"
  onChange={e => console.log(e, 'changed')}
  onOpen={e => console.log(e, 'opened')}
  onClose={e => console.log(e, 'closed')}
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'}
  ]}
/>
```

## Internationalization

To internationalize a select, localized strings should be passed to the `label` field of the options prop.

## Accessibility

### WAI-ARIA Design Pattern

The Select control implements the [Listbox design pattern per WAI-ARIA 1.1](https://www.w3.org/TR/wai-aria-practices-1.1/#Listbox) as a [collapsible dropdown listbox](https://www.w3.org/TR/wai-aria-practices-1.1/examples/listbox/listbox-collapsible.html).

### Labelling

A Select should be labelled using a [FieldLabel](/components/FieldLabel), `aria-label` or `aria-labelledby`, to provide context for Accessibility.

#### Using FieldLabel

When labelling using a FieldLabel, use implicit labelling or add the `aria-labelledby` prop to explicitly associate the Select control to the FieldLabel.

##### Implicit labelling will add `aria-labelledby` automatically

<FieldLabel label="Ice cream flavor">
  <Select
    options={[
      {label: 'Chocolate',value: 'chocolate'},
      {label: 'Vanilla',value: 'vanilla'},
      {label: 'Strawberry',value: 'strawberry'}
    ]}
  />
</FieldLabel>

```jsx
<FieldLabel label="Ice cream flavor">
  <Select
    options={[
      {label: 'Chocolate',value: 'chocolate'},
      {label: 'Vanilla',value: 'vanilla'},
      {label: 'Strawberry',value: 'strawberry'}
    ]}
  />
</FieldLabel>
```

##### Explicit labelling requires `aria-labelledby` be added manually

<FieldLabel label="Ice cream flavor" id="select-label-id" labelFor="select-id" />
<Select
  id="select-id"
  aria-labelledby="select-label-id"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'}
  ]}
 />

```jsx
<FieldLabel label="Ice cream flavor" id="select-label-id" labelFor="select-id" />
<Select
  id="select-id"
  aria-labelledby="select-label-id"
  options={[
    {label: 'Chocolate',value: 'chocolate'},
    {label: 'Vanilla',value: 'vanilla'},
    {label: 'Strawberry',value: 'strawberry'}
  ]}
 />
```