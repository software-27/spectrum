/*
 * ADOBE CONFIDENTIAL
 *
 * Copyright 2016 Adobe Systems Incorporated
 * All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 */

@require '../../commons'

$spectrum-slider-height = 32*$px;
$spectrum-slider-width = 200*$px;

$spectrum-slider-bar-height = 2*$px;
$spectrum-slider-bar-width = 100%;

$spectrum-slider-handle-height = 16*$px;
$spectrum-slider-handle-width = 16*$px;
$spectrum-slider-handle-border-width = 2*$px;
$spectrum-slider-handle-shadow-width = 4*$px;

.coral3-Slider {
  position: relative;
  display: inline-block;

  box-sizing: border-box;
  // takes into consideration the half handle that could be on each side
  vertical-align: top;

  z-index: auto;
  border-radius: $slider-border-radius;
  background-color: transparent;

  margin: 0 ($spectrum-slider-handle-width/2);
  width: $spectrum-slider-width - $spectrum-slider-handle-width;
  height: $spectrum-slider-height;

  &.is-disabled {
    // necessary to block the eventing
    pointer-events: none;
  }
}

.coral3-Slider-handle {
  position: absolute;
  left: 0;
  top: 50%;

  display: inline-block;
  box-sizing: border-box;

  outline: none;
  z-index: auto;

  cursor: pointer;

  border-radius: 50%;

  margin-right: 0;
  margin-bottom: 0;
  margin-top: -($spectrum-slider-handle-height/2);
  margin-left: -($spectrum-slider-handle-width/2);

  width: $spectrum-slider-handle-width;
  height: $spectrum-slider-handle-height;

  border: $spectrum-slider-handle-border-width solid black;

  transition: border $spectrum-transition-time ease-in-out;

  &.is-focused {
    outline: none;
    z-index: 1;

    border-width: ($spectrum-slider-handle-width/2);
  }

  &:active {
    border-width: ($spectrum-slider-handle-width/2);
  }
}

.coral3-Slider-input {
  width: 100%;
  height: 100%;
  padding: 0;

  // the input field is placed inside the handle
  // but is positioned behind its parent
  position: absolute;
  top: 0;
  left: 0;

  overflow: hidden;
  opacity: 0.000001;
  cursor: default;
  -webkit-appearance: none;

  border: 0;
  background: transparent;

  pointer-events: none;

  &[type=range] {

    &::-moz-range-thumb,
    &::-moz-range-track {
      background: transparent;
      border: inherit;
    }

    &::-webkit-slider-thumb {
      -webkit-appearance: none;
    }
  }
}

.coral3-Slider-bar {
  // box-sizing: border-box; // Don't be wider/taller than 100%
  position: absolute;
  border-radius: $spectrum-border-radius;

  width: 100%;

  // the bar does not need to be clickable
  pointer-events: none;
  width: $spectrum-slider-bar-width;
  height: $spectrum-slider-bar-height;

  top: 50%;
  left: 0;

  margin-top: -($spectrum-slider-bar-height / 2);
  margin-right: 0;
  margin-bottom: 0;
  margin-left: -($spectrum-slider-handle-width / 2);

  padding: 0 $spectrum-slider-handle-width 0 0;
}

.coral3-Slider-fill {
  height: $spectrum-slider-bar-height;
  width: $spectrum-slider-bar-width;
  position: absolute;
  border-radius: $spectrum-border-radius;
  width: 0;

  &.is-hidden {
    display: none;
  }
}

.coral3-Slider-item {
  display: none;
}

.coral3-Slider.coral3-Slider--vertical {
  width: $spectrum-slider-height - $spectrum-slider-handle-width;
  height: $spectrum-slider-width;

  margin: ($spectrum-slider-handle-width/2) 0;

  .coral3-Slider-handle {
    margin-top: 0;
    margin-bottom: -($spectrum-slider-handle-width/2);
    margin-left: -($spectrum-slider-handle-height/2);
    margin-right: 0;

    left: 50%;
    top: inherit;

    width: $spectrum-slider-handle-height;
    height: $spectrum-slider-handle-width;
  }

  .coral3-Slider-bar {
    height: $spectrum-slider-bar-width;
    width: $spectrum-slider-bar-height;

    top: 0;
    left: 50%;

    margin-top: -($spectrum-slider-handle-height/2);
    margin-left: -($spectrum-slider-bar-height/2);

    padding: 0 0 $spectrum-slider-handle-height 0;
  }

  .coral3-Slider-fill {
    bottom: 0;
    height: 0;
    width: $spectrum-slider-bar-height;
  }
}

.coral3-Slider-fieldset {
  display: inline-block;
  position: static;
}

.coral-Form--vertical .coral-Form-field.coral3-Slider {
  display: block;

  &:not(.coral3-Slider--vertical) {
    width: 100%;
  }
}

@require 'light.styl'
@require 'dark.styl'
